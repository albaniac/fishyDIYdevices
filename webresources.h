//-----------------------------------------------------------------------------------------------------------------------------
//-------This file contains the HTML served by the webserver that is minified and converted to a string for compliation.-------
//-------See styles.css, masterRootTemplate.html, and fishyDIYdeviceCtrl.html for the source HTML file that -------------------
//-------is readable with instructions to update these strings.----------------------------------------------------------------
//-----------------------------------------------------------------------------------------------------------------------------

//=============================================================================================================================
// PAGE STYLES - used for multiple pages, provided in respose to /styles.css
const char WEBSTYLESSTR[] PROGMEM = ":root { font-family: Arial, Helvetica, sans-serif; font-style: normal; --cp-sz: 290px; /* 290 assumes width as narrow as 320px, 360px is most common*/ --big-fnt: 25px; --mid-fnt: 20px; --sml-fnt: 15px; --bg-col: #16234b; --bg-col-ack: rgb(43, 206, 97); --drk-col: #3366cc; --btn-col: #ccc; --btn-colR: rgb(151, 90, 90); --btn-colY: rgb(198, 223, 111); --btnBorder-col: rgb(96, 109, 128); --lght-col: #ffffff; --cfg-lab: 280; --cfg-inp: 180; --lab-sz: 90px; --val-sz: 65px; --sld-sz: 125px; --rad-sz: 25px; --hdr-ht: 100px; --smrad-sz: 7px; --thm-sz: 25px; --sld-ht: 10px; --sld-mar: 5px; --sldRow-mar: 4px; --sldRow-ht: 30px; --btnRow-mar: 2px; --btnRow-ht: 30px; --btn-ht: 28px; } a { color: var(--lght-col); } body,.main { padding: 5px; background: var(--bg-col); transition: .5s; } .flex-container { display: flex; flex-wrap: wrap; justify-content: center; /*background-color: var(--gry-col);*/; } .flex-container>div { border-radius: var(--rad-sz); background-color: var(--lght-col); width: calc(var(--cp-sz)+10); margin: 5px; vertical-align: middle; text-align: center; line-height: calc(var(--mid-fnt) + 2); font-size: var(--mid-fnt); } .fishyFtr { border-radius: 0 0 var(--rad-sz) var(--rad-sz); font-size: var(--mid-fnt); font-weight: bold; color: var(--lght-col); background-color: var(--drk-col); height: calc(var(--hdr-ht)/2); text-align: center; } .fishyHdr, .hdrIcon { border-radius: var(--rad-sz) var(--rad-sz) 0 0; font-size: calc(var(--hdr-ht)/3); font-weight: bold; color: var(--lght-col); background-color: var(--drk-col); height: var(--hdr-ht); vertical-align: middle; } .fishyHdr { width: 100%; text-align: center; } .CP, .CPhdErrClear { width: var(--cp-sz); flex: 0 1 var(--cp-sz); background-color: var(--lght-col); } .CPdevice,.CPdetails { border-radius: 0px; width: var(--cp-sz); flex: 0 1 var(--cp-sz); } .CPdetails { background-color: var(--lght-col); font-size: var(--sml-fnt); } .CPhd, .CPhd2, .CPhd3, .CPhdErr, .CPft { width: var(--cp-sz); color: var(--lght-col); background-color: var(--drk-col); } .CPhd { border-radius: var(--rad-sz) var(--rad-sz) 0px 0px; font-size: var(--big-fnt); -webkit-transition: color 0.4s ease; -moz-transition: color 0.4s ease; -o-transition: color 0.4s ease; transition: color 0.4s ease; } .CPft { border-radius: 0px 0px var(--rad-sz) var(--rad-sz); font-size: var(--mid-fnt); } .CPhd3 { text-align: center; width: 100%; } .CPhdErr { color: red; } .CPhdErrClear { color: var(--lght-col); } .flex-grid { display: flex; align-items: center; margin: 2px 0px 2px 0px; justify-content: center; } .flex-grid-outer { border-radius: 5px; transition: .5s; display: flex; align-items: center; flex-wrap: wrap; justify-content: center; } * { box-sizing: border-box; } .button,.bigbutton,.cfgbuttonY,.cfgbuttonR { cursor: pointer; border: 2px solid var(--btnBorder-col); border-radius: 5px; background-color: var(--btn-col); width: calc(var(--cp-sz)/3); } .cfgbuttonR { background-color: var(--btn-colR); width: calc(var(--cp-sz)/2); height: var(--big-fnt); } .cfgbuttonY { background-color: var(--btn-colY); width: calc(var(--cp-sz)/2); height: var(--big-fnt); } .buttonTxt { text-align: center; font-size: 24px; font-weight: 700; line-height: 20px; } .status,.configPanel,.swPanel { border: 2px solid var(--btnBorder-col); border-radius: 5px; background-color: var(--lght-col); width: var(--cp-sz); min-height: 80px; flex-basis: auto; align-content: center; text-align: center; font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 700; } .sliderDiv { border-radius: 5px; padding: 5px; width: calc(var(--cp-sz)*2/3); } .controlRow { border-radius: 5px; width: calc(var(--cp-sz)-4px); height: 50px; } .buttonSet { width: var(--cp-sz); } .info-icon,.info-icon-blink { position: relative; top: -5px; left: 0px; border-radius: 9px; font-size: 20px; cursor: pointer; } .info-icon-blink { font-weight: 800; animation: blinkingText 2.25s infinite; } @keyframes blinkingText { 0% { color: #000; } 49% { color: transparent; } 50% { color: red; } 99% { color: transparent; } 100% { color: #000; } } .mainTxt { text-align: center; font-size: 20px; font-weight: 500; } .mainTxtRw { height: 26px; } .otherTxtRw { height: 50px; } /*--------------Resizing for wide screens-----------*/ @media screen and (min-width:606px) { .status { height: 155px; } .configPanel { height: 155px; } .mainTxtRw { height: 50px; } .mainTxt { font-size: 30px; } .info-icon,.info-icon-blink { font-size: 28px; } .otherTxtRw { height: 100px; } } /*---------------CONFIG-INPUT ------------*/ .cfgInp, .cfgInpNum { background-color: var(--lght-col); border: none; font-size: var(--sml-fnt); } .configPanel { align-content: left; text-align: left; } .cfgInpLab { min-width: var(--cfg-lab); font-size: var(--sml-fnt); } .cfgInp { width: var(--cfg-inp); font-size: var(--sml-fnt); } .cfgInpNum { width: var(--cfg-lab); font-size: var(--sml-fnt); } /*-------------------HORIZONTAL-SLIDER-------------------*/ input[type=range].slider { -webkit-appearance: none; width: 100%; margin: 0.7px 0; } input[type=range].slider:focus { outline: none; } input[type=range].slider::-webkit-slider-runnable-track { width: 100%; height: 25.6px; cursor: pointer; box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d; background: #444; border-radius: 0px; border: 0px solid #010101; } input[type=range].slider::-webkit-slider-thumb { box-shadow: 0px 0px 1px #670000, 0px 0px 0px #810000; border: 0px solid #ff1e00; height: 27px; width: 18px; border-radius: 0px; background: rgba(136, 162, 248, 0.93); cursor: pointer; -webkit-appearance: none; margin-top: -0.7px; } input[type=range].slider:focus::-webkit-slider-runnable-track { background: #545a5a; } input[type=range].slider::-moz-range-track { width: 100%; height: 25.6px; cursor: pointer; box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d; background: #484d4d; border-radius: 0px; border: 0px solid #010101; } input[type=range].slider::-moz-range-thumb { box-shadow: 0px 0px 1px #670000, 0px 0px 0px #810000; border: 0px solid #ff1e00; height: 27px; width: 18px; border-radius: 0px; background: rgba(136, 162, 248, 0.93); cursor: pointer; } input[type=range].slider::-ms-track { width: 100%; height: 25.6px; cursor: pointer; background: transparent; border-color: transparent; color: transparent; } input[type=range].slider::-ms-fill-lower { background: #3c4040; border: 0px solid #010101; border-radius: 0px; box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d; } input[type=range].slider::-ms-fill-upper { background: #484d4d; border: 0px solid #010101; border-radius: 0px; box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d; } input[type=range].slider::-ms-thumb { box-shadow: 0px 0px 1px #670000, 0px 0px 0px #810000; border: 0px solid #ff1e00; height: 27px; width: 18px; border-radius: 0px; background: rgba(136, 162, 248, 0.93); cursor: pointer; height: 25.6px; } input[type=range].slider:focus::-ms-fill-lower { background: #484d4d; } input[type=range].slider:focus::-ms-fill-upper { background: #545a5a; } /*--------------------END HORIZONTAL-SLIDER -------------------*/ /* ---------------- TWO-STATE SWITCHES ---------------- */ .sw { position: relative; display: inline-block; width: 38.4px; height: 21.8px; } .sw input { display: none; } .swLab { position: relative; top: -6.4px; } .swLabHdr { position: relative; top: -6.4px; font-size: var(--sml-fnt); } .sldSw { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; -webkit-transition: .4s; transition: .4s; border-radius: 21.8px; } .sldSw:before { position: absolute; content: ''; height: 16.7px; width: 16.7px; left: 2.6px; bottom: 2.6px; background-color: var(--lght-col); -webkit-transition: .4s; transition: .4s; border-radius: 50%; } input:checked+.sldSw { background-color: #444; } input:focus+.sldSw { box-shadow: 0 0 1px #444; } input:checked+.sldSw:before { -webkit-transform: translateX(16.7px); -ms-transform: translateX(16.7px); transform: translateX(16.7px); } /* ---------------- END TWO-STATE SWITCHES ---------------- */ .ctrl { height: 250px; width: var(--cp-sz); border: none; } .overlay { height: 0%; width: 100%; position: fixed; z-index: 1; top: 0; left: 0; background-color: rgba(255,255,255, 0.7); overflow-y: hidden; transition: 0.5s; } .overlay-content { position: relative; top: 25%; width: 100%; text-align: center; margin-top: 30px; } .overlay a { padding: 8px; text-decoration: none; font-size: 36px; color: #818181; display: block; transition: 0.3s; } .overlay a:hover, .overlay a:focus { color: #f1f1f1; } .overlay .closebtn { position: absolute; right: 15px; top: 10px; z-index: 999; cursor: pointer; color: #fff; border: none; border-radius: 30px; background: transparent; font-size: 30px; font-weight: bold; display: inline-block; line-height: 0px; padding: 11px 3px; } .modal-body { position: relative; top: 5%; bottom: 5%; left: 5%; right: 5%; width: 90%; height: 90%; text-align: center; } .iframeBody { border: none; border-radius: 25px; } .myIframeDiv { border: none; border-radius: 25px; background: transparent; } .background { position: relative; color: var(--bg-col); width: 30px; height: 30px; padding: 0; margin: 0; border: none; top: 0px; right: -10px; }";

//=============================================================================================================================

//=============================================================================================================================
//ROOT SITE  - Used to serve up iFrames for each device either for software updates or for controls
const char WEBROOTSTRNEW[] PROGMEM = "<!doctype html><title>fishDIY Device Network</title><meta content=\"width=device-width,initial-scale=1\"name=viewport><link href=/styles.css rel=stylesheet><link href=styles.css rel=stylesheet><div class=main id=myBody><script>function addDevice(e){var n=\"<div class='CPdevice' id='CP-\"+e.ip+\"'>\";return n+=addInnerDevice(e),n+=\"</div>\"}function addInnerDevice(e){var n,t;n=\"true\"==e.inError?\"CPhdErr\":\"CPhdErrClear\",t=\"true\"==e.isMaster?\"MASTER:\"+e.ip:e.ip;var r=\"<div class='CPhd' id='hd1-\"+e.ip+\"'>\"+e.name+\"</div>\";return isCtrl?(r+=\"<div id='CPerr-\"+e.ip+\"' class='\"+n+\"'>ERROR</div>\",r+=\"<div >\"+e.statusstr+\"</div>\",r+=\"<button class='CPbutton' onclick='openModal(\\\"\"+e.ip+\"\\\")'; id='myBtn-\"+e.ip+\"'>Open Controls</button>\",r+=\"<div class='CPdetails' >Group:\"+e.groupstr+\"</div>\",r+=\"<div class='CPdetails' >Type:\"+e.typestr+\"</div>\"):r+=\"<iframe id='swUpdate-\"+e.ip+\"' class='swUpdate' src='http://\"+e.ip+\"/SWupdateGetForm' ></iframe><br>\",r+=\"<div class='CPft' id='CPft-\"+e.ip+\"'>\"+t+\"</div>\"}function refreshToggle(){var e=document.getElementById(\"swRefreshLab-1\");1==document.getElementById(\"swRefreshChck-1\").checked?(e.innerHTML=\"Auto-refresh On\",pollTimer=setInterval(function(){pollJSON()},1e4)):(e.innerHTML=\"Auto-refresh Off\",clearInterval(pollTimer))}function loadJSON(e,n,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?n&&n(JSON.parse(r.responseText)):t&&t(r))},r.open(\"GET\",e,!0),r.send()}function pollJSON(){loadJSON(\"./network.JSON?nocache=\"+(new Date).getTime(),function(e){var r,i,n=e.fishyDevices;Array.prototype.forEach.call(n,function(e,n){if(r=document.getElementById(\"CP-\"+e.ip),\"0\"==e.dead){if(null==r){var t=document.createElement(\"DIV\");t.id=\"CP-\"+e.ip,t.className=\"CPdevice\",r=document.getElementById(\"flex-container\").appendChild(t)}r.innerHTML=addInnerDevice(e)}else null!=r&&document.getElementById(\"flex-container\").removeChild(r)});var t=document.querySelectorAll(\".CPdevice\");Array.prototype.forEach.call(t,function(t,e){i=!0,Array.prototype.forEach.call(n,function(e,n){\"CP-\"+e.ip==t.id&&0==e.dead&&(i=!1)}),i&&document.getElementById(\"flex-container\").removeChild(t)}),console.log(\"loadJSON and page update success\")},function(e){console.log(\"Error with loadJSON\")})}var pollTimer,isCtrl=!0;function buildPage(){var n,e=\"./network.JSON?nocache=\"+(new Date).getTime(),t=[],r=document.getElementById(\"myBody\"),i=document.createElement(\"DIV\");i.className=\"fishyHdr\",r.appendChild(i),\"SWu\"==location.pathname.slice(1,4)?(isCtrl=!1,i.innerHTML=\"fishyDevice Software Update\"):i.innerHTML=\"fishyDevice Controls\",(i=document.createElement(\"DIV\")).className=\"CPhd3\",r.appendChild(i),isCtrl&&(i.innerHTML=\"<span class='swRow'><label class='sw' id='swRefresh-1'><input type='checkbox' checked id='swRefreshChck-1' onchange=refreshToggle()><span class='sldSw'></span></label><span class='swLabHdr' id='swRefreshLab-1'>Auto-refresh On</span></span>\"),loadJSON(e,function(e){n=e.fishyDevices,Array.prototype.forEach.call(n,function(e,n){t.push(addDevice(e))}),(i=document.createElement(\"DIV\")).className=\"flex-container\",i.id=\"flex-container\",i.innerHTML=t.join(\"\"),r.appendChild(i)})}window.onload=buildPage(),isCtrl&&document.getElementById(\"swRefreshChck-1\").checked&&(pollTimer=setInterval(function(){pollJSON()},1e4))</script><div class=fishyFtr><a href=/ >[Controls]</a> <a href=/SWupdater>[SW Update]</a></div></div><div class=overlay id=myModal><a href=javascript:void(0) class=closebtn onclick=closeModal()><div class='background'>&#x26DD;</div></a></a><div class=modal-body id=myIframeDiv><iframe class=iframeBody height=100% id=myIframe src=\"\"width=100%></iframe></div></div><script>var modal=document.getElementById(\"myModal\");function closeModal(){modal.style.height=\"0%\",document.getElementById(\"myIframe\").src=\"\"}var span=document.getElementsByClassName(\"close\")[0];function openModal(e){\"localhost\"==document.domain?document.getElementById(\"myIframeDiv\").innerHTML=\"<iframe  id='myIframe' class='iframeBody' width=100% height=100% src='http://localhost/test/fishyDIYdeviceCtrlTemplate.html'></iframe>\":document.getElementById(\"myIframeDiv\").innerHTML=\"<iframe  id='myIframe' class='iframeBody' width=100% height=100% src='http://\"+e+\"/control'></iframe>\",modal.style.height=\"100%\"}</script>";
//=============================================================================================================================

//=============================================================================================================================
//CTRL SITE PARTS - Used to serve up each device's controls
const char WEBCTRLSTRNEW[] PROGMEM = "<!doctypehtml><title>fishDIY Device Network</title><meta content=\"width=device-width,initial-scale=1\"name=viewport><link href=/styles.css rel=stylesheet><link href=styles.css rel=stylesheet><div class=main id=myBody><script>var websock;function showDetails(){alert(infoText)}function getMsg(e){var t=e.indexOf(\"MSG:\")+4,n=e.indexOf(\"~*~*\");return e.substring(t,n)}function getNodeJSONtext(e){var t=e.indexOf(\"~*~*DAT:\")+8;return e.substring(t,e.length)}function start(){(websock=new WebSocket(\"ws://\"+window.location.hostname+\":81/\")).onopen=function(e){console.log(\"websock open\")},websock.onclose=function(e){console.log(\"websock close\")},websock.onerror=function(e){console.log(e)},websock.onmessage=function(e){var t=e.data;if(t.indexOf(\"~*~*\")<0)0==t.indexOf('{\"fishyDevices\"')?processJSON(t):console.log(t);else{var n=getMsg(t);console.log(n),setOtherTxt(n);var o=getNodeJSONtext(t);console.log(o),processJSON(o)}}}function setMainTxt(e){document.getElementById(\"mainTxt\").innerHTML=\"Postion: \"+e+\"% Open\"}function setOtherTxt(e){document.getElementById(\"otherTxt\").innerHTML=e}function syncPO(){var e=document.getElementById(\"pctOpenSld\");document.getElementById(\"pobtntxt\").innerHTML='<p class=\"buttonTxt\">'+e.value+\"%</p>\"}function openIsCCWUpd(){var e=document.getElementById(\"swLab\");1==document.getElementById(\"swChck\").checked?e.innerHTML=\"Open is CCW\":e.innerHTML=\"Open is CW\"}function swMstrUpd(){var e=document.getElementById(\"swMstrLab\");1==document.getElementById(\"swMstrChck\").checked?e.innerHTML=\"Master Node\":e.innerHTML=\"Slave Node\"}function swSwapUpd(){var e=document.getElementById(\"swSwapLab\");1==document.getElementById(\"swSwapChck\").checked?e.innerHTML=\"Swapped Lim Sw\":e.innerHTML=\"Normal Lim Sw\"}function sendCmd(e){if(1!=websock.readyState)return alert(\"This control panel is no longer connected to the device.  Please close this window and reopen the control panel.\"),0;var t=\"\";if(\"O\"==e)t=\"open\";else if(\"C\"==e)t=\"close\";else if(\"S\"==e)t=\"stop\";else if(\"cal\"==e)t=\"calibrate\";else if(\"reboot\"==e)t=\"reset\";else if(\"rstWifi\"==e)t=\"reset_wifi\";else if(\"G\"==e){var n;for(t=\"goto\",n=document.getElementById(\"pctOpenSld\").value;n.length<3;)n=\"0\"+n;t+=n}else if(\"config\"==e){var o=\"false\",d=\"false\",c=\"false\";document.getElementById(\"swMstrChck\").checked&&(o=\"true\"),document.getElementById(\"swChck\").checked&&(d=\"true\"),document.getElementById(\"swSwapChck\").checked&&(c=\"true\"),t=\"config\",t+=\";openIsCCW=\"+d,t+=\";isMaster=\"+o,t+=\";devName=\"+document.getElementById(\"devName\").value,t+=\";groupName=\"+document.getElementById(\"groupName\").value,t+=\";devType=\"+document.getElementById(\"devType\").value,t+=\";note=\"+document.getElementById(\"devNote\").value,t+=\";swapLimSW=\"+c,t+=\";timeOut=\"+document.getElementById(\"timeOut\").value}document.body.style.backgroundColor=\"var(--bg-col-ack)\",websock.send(t)}function returnColor(){document.body.style.backgroundColor=\"var(--bg-col)\"}function httpGetAsync(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},n.open(\"GET\",e,!0),n.send(null)}function processJSON(e){doStuffWithJSON(JSON.parse(e).fishyDevices)}function doStuffWithJSON(e){var t=\"\",n=\"\",o=!1,c=\"\";d=e[0],returnColor(),t=\"true\"==d.isMaster?\" (MASTER)\":\"\",d.openIsCCW,\"true\"==d.swapLimSW?swapTxt=\"checked\":swapTxt=\"\",n=\"true\"==d.motorPosAtCWset&&\"true\"==d.motorPosAtCCWset?\"\":(o=!0,c=\"UNCALIBRATED\\n\",\"**HARDWARE LIMITS ARE UNCALIBRATED**\\n(AUTOCAL IS RECOMMENDED)\\n\"),\"true\"==d.deviceTimedOut&&(o=!0,c+=\"ERROR - DEVICE TIMED OUT\\n\"),infoText=\"NAME: \"+d.deviceName+\"\\nIP ADDRESS: \"+d.ip+t+\"\\nMOTOR POSITION: \"+d.motorPos+\"\\nMOTOR HARDWARE LIMITS: CCW=0 CW= \"+d.range+\"\\nSOFTWARE VERSION: \"+d.swVer+\"\\nINIT STR: \"+d.initStamp+\"\\n\\n\\n\"+n+\"\\n\"+c,document.getElementById(\"info-icon\").className=o?\"info-icon-blink\":\"info-icon\",setMainTxt(posPct(d.motorPos,d.range,d.openIsCCW)),document.getElementById(\"devIP\").value=d.ip+t,document.getElementById(\"devNote\").value=d.note,document.getElementById(\"timeOut\").value=d.timeOut,document.getElementById(\"devName\").value=d.deviceName,document.getElementById(\"groupName\").value=d.group,document.getElementById(\"devType\").value=d.devType}function posPct(e,t,n){if(0==t)return 0;var o=Math.round(e/t*100);return\"true\"==n&&(o=100-o),o}function blockSpecialChar(e){var t=e.keyCode;return 64<t&&t<91||96<t&&t<123||8==t||16==t||95==t||32==t||43<t&&t<47||48<=t&&t<=57}function numberCharOnly(e){var t=e.keyCode;return 8==t||16==t||48<=t&&t<=57}var infoText=\"...Loading...\";window.onload=start()</script></div><div class=flex-grid-outer id=flex-container><div class=status id=deviceStatus><table style=padding:0><tr class=mainTxtRw><td width=18px><span class=info-icon id=info-icon onclick=showDetails()>&#x1F6C8;</span><td width=265px><span class=mainTxt id=mainTxt>...Loading...</span><tr class=otherTxtRw><td colspan=2><span id=otherTxt></span></table></div><div class=buttonSet><div class=flex-grid><div class=sliderDiv><input id=pctOpenSld class=slider value=50 type=range max=100 min=0 oninput=syncPO()></div><div class=button onclick='sendCmd(\"G\")'><p class=buttonTxt id=pobtntxt>50%</div></div><div class=flex-grid><div class=button onclick='sendCmd(\"O\")'><p class=buttonTxt>OPEN</div><div class=button onclick='sendCmd(\"S\")'><p class=buttonTxt>STOP</div><div class=button onclick='sendCmd(\"C\")'><p class=buttonTxt>CLOSE</div></div></div><div class=configPanel><label class=cfgInpLab for=devIP>IP Address:<input id=devIP class=cfgInp value=...Loading... maxlength=40 disabled></label><br><label class=cfgInpLab for=devName>Name:<input id=devName class=cfgInp value=...Loading... maxlength=40 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=groupName>Group:<input id=groupName class=cfgInp value=...Loading... maxlength=40 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=devType>Type:<input id=devType class=cfgInp value=...Loading... maxlength=20 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=devNote>Note:<input id=devNote class=cfgInp value=...Loading... maxlength=55 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=timeOut>Time-Out:<input id=timeOut class=cfgInpNum value=00 maxlength=5 onkeypress=\"return numberCharOnly(event)\"title=\"Enter a time (in seconds) to wait for the actuator to respond before stopped and displaying an error message (assuming the actuator got stuck).\"></label></div><div><div class=swPanel><div class=swRow><label class=sw id=sw><input id=swChck type=checkbox onchange=openIsCCWUpd()><span class=sldSw></span></label><span class=swLab id=swLab>Open is CW</span></div><div class=swRow><label class=sw id=swMstr><input id=swMstrChck type=checkbox onchange=swMstrUpd() checked><span class=sldSw></span></label><span class=swLab id=swMstrLab>Master Node</span></div><div class=swRow><label class=sw id=swSwap><input id=swSwapChck type=checkbox onchange=swSwapUpd() checked><span class=sldSw></span></label><span class=swLab id=swSwapLab>Swapped Lim SW</span></div></div><div class=buttonSet><div class=flex-grid><input id=updCfgBtn class=cfgbuttonY value=\"UPDATE SETTINGS\"title=\"This will save new settings in the device. New settings should be displayed on next refresh.  If trying to adjust mulitple settings it is recommended that you temporarily turn off Auto-refresh.\"onclick='sendCmd(\"config\")'type=button> <input id=updCfgBtn class=cfgbuttonY value=\"REBOOT DEVICE\"title=\"This will reboot the device.\"onclick='sendCmd(\"reboot\")'type=button></div><div class=flex-grid><input id=updCfgBtn class=cfgbuttonR value=\"AUTO-CAL. HW LIM\"title=\"WARNING:Auto-Cal will attempt to cycle your actuator full open and shut to determine  hardware limit switch positions. Ensure that range is possible to prevent damage.\"onclick='sendCmd(\"cal\")'type=button> <input id=rstWifiBtn class=cfgbuttonR value=\"RESET WIFI\"title=\"WARNING:Reset Wifi will attempt to delete your network SSID and passwordand put the device into wifi-server mode to learn new wifi SSID and password. To teach a reset device a new wifi network go to the device IP address using a mobile phone or computer.\"onclick='sendCmd(\"rstWifi\")'type=button></div></div></div></div>";
//=============================================================================================================================

//=============================================================================================================================
//SOFTWARE UPDATE DEV FORM PARTS----
const char WEBSTR_SWUPDATE_PT1[] PROGMEM = "<!doctype html><style>a{color:#fff}.main,body{font-family:\"Lucida Sans Unicode\",\"Lucida Grande\",sans-serif}#loader{position:absolute;left:50%;top:50%;z-index:1;width:150px;height:150px;margin:-75px 0 0 -75px;border:16px solid #f3f3f3;border-radius:50%;border-top:16px solid #3498db;width:120px;height:120px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><script>function showLoader(){document.getElementById(\"loader\").style.display=\"block\",document.getElementById(\"formDiv\").style.display=\"none\",document.getElementById(\"SWinfoDiv\").style.display=\"none\",setTimeout(\"location.href = '/SWupdateGetForm';\",8e3)}function _(e){return document.getElementById(e)}function uploadFile(){_(\"progressBar\").value=0,_(\"progressBar\").style.display=\"block\";var e=_(\"file1\").files[0],t=new FormData;t.append(\"file1\",e);var r=new XMLHttpRequest;r.upload.addEventListener(\"progress\",progressHandler,!1),r.addEventListener(\"load\",completeHandler,!1),r.addEventListener(\"error\",errorHandler,!1),r.addEventListener(\"abort\",abortHandler,!1),r.open(\"POST\",\"/SWupdatePostForm\"),r.send(t)}function progressHandler(e){_(\"loaded_n_total\").innerHTML=\"Uploaded \"+e.loaded+\" bytes of \"+e.total;var t=e.loaded/e.total*100;_(\"progressBar\").value=Math.round(t),_(\"status\").innerHTML=Math.round(t)+\"% uploaded...\",100==_(\"progressBar\").value&&(_(\"status\").innerHTML=\"Done. Rebooting.\",showLoader())}function completeHandler(e){_(\"status\").innerHTML=e.target.responseText,_(\"progressBar\").value=0}function errorHandler(e){_(\"status\").innerHTML=\"Upload Failed\"}function abortHandler(e){_(\"status\").innerHTML=\"Upload Aborted\"}</script><div id=loader style=display:none></div><div id=SWinfoDiv>";

const char WEBSTR_SWUPDATE_PT2[] PROGMEM = "</div><div id=formDiv><hr><form enctype=multipart/form-data id=upload_form method=post><input id=file1 name=file1 onchange=uploadFile() type=file><br><progress id=progressBar max=100 style=width:100%;display:none value=0></progress><h3 id=status></h3><p id=loaded_n_total></form></div>";
