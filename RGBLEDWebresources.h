//-----------------------------------------------------------------------------------------------------------------------------
//-------This file contains the HTML served by the webserver that is minified and converted to a string for compliation.-------
//-------See styles.css, masterRootTemplate.html, and fishyDIYdeviceCtrl.html for the source HTML file that -------------------
//-------is readable with instructions to update these strings.----------------------------------------------------------------
//-----------------------------------------------------------------------------------------------------------------------------

//=============================================================================================================================
//CTRL SITE PARTS - Used to serve up each device's controls
const char RGBWEBCTRLSTR[] PROGMEM = "<!doctypehtml><title>fishDIY RGB LED</title><meta content=\"initial-scale=1\"name=viewport><link href=/styles.css rel=stylesheet id=styles><link href=styles.css rel=stylesheet><style>.color-picker,.color-picker *,.color-picker ::after,.color-picker ::before,.color-picker::after,.color-picker::before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.color-picker{position:absolute;top:0;left:0;z-index:10}.color-picker-container{background:#000;color:#000;padding:1px;-webkit-box-shadow:1px 5px 10px rgba(0,0,0,.5);-moz-box-shadow:1px 5px 10px rgba(0,0,0,.5);box-shadow:1px 5px 10px rgba(0,0,0,.5);width:calc(11.5em + 3px)}.color-picker-container *,.color-picker-container ::after,.color-picker-container ::before{border-color:inherit}.color-picker-container::after{content:\"\";display:table;clear:both}.color-picker i{font:inherit;font-size:12px}.color-picker-h{position:relative;width:1.5em;height:10em;float:right;cursor:ns-resize;background:url(color-picker-h.png) 50% 50% no-repeat;background:-webkit-linear-gradient(to top,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%) 50% 50%/100% 100% no-repeat;background-image:-moz-linear-gradient(to top,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);background-image:linear-gradient(to top,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);-webkit-background-size:100% 100%;-moz-background-size:100% 100%;overflow:hidden}.color-picker-h i{position:absolute;top:-.25em;right:0;left:0;z-index:3;display:block;height:.5em}.color-picker-h i::before{content:\"\";position:absolute;top:0;right:0;bottom:0;left:0;display:block;border:.25em solid;border-color:transparent;border-right-color:inherit;border-left-color:inherit}.color-picker-sv{position:relative;width:10em;height:10em;float:left;margin-right:1px;background:url(color-picker-sv.png) 50% 50% no-repeat;background-image:-webkit-linear-gradient(to top,#000,rgba(0,0,0,0)),linear-gradient(to right,#fff,rgba(255,255,255,0));background-image:-moz-linear-gradient(to top,#000,rgba(0,0,0,0)),linear-gradient(to right,#fff,rgba(255,255,255,0));background-image:linear-gradient(to top,#000,rgba(0,0,0,0)),linear-gradient(to right,#fff,rgba(255,255,255,0));-webkit-background-size:100% 100%;-moz-background-size:100% 100%;background-size:100% 100%;cursor:crosshair}.color-picker-sv i{position:absolute;top:-.4em;right:-.4em;z-index:3;display:block;width:.8em;height:.8em}.color-picker-sv i::after,.color-picker-sv i::before{content:\"\";position:absolute;top:0;right:0;bottom:0;left:0;display:block;border:1px solid;border-color:inherit;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%}.color-picker-sv i::before{top:-1px;right:-1px;bottom:-1px;left:-1px;border-color:#fff}.color-picker-h,.color-picker-sv{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.color-picker.static{display:inline-block;position:static}.color-picker.static .color-picker-container{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}</style><div class=flex-grid-outer id=flex-container><div class=fishyHdr id=deviceStatus><table width=100%><tr><td><div class=info-icon id=info-icon onclick=showDetails()>&#9432;</div><td><div class=flex-grid style=padding:6px><table><tr><td style=font-size:12px>Color:<tr><td id=mainTxt>...Loading...</table></div></table></div><p><div class=buttonSet><div class=flex-grid><div class=button onclick='sendCmd(\"ON\")'><span class=buttonTxt>ON</span></div><div class=button onclick='sendCmd(\"OFF\")'><span class=buttonTxt>OFF</span></div></div></div><div class=swPanel><div class=flex-grid><div class=swRow><label class=sw id=sw><input id=swChck type=checkbox onchange=openIsCCWUpd()><span class=sldSw></span></label><span class=swLab id=swLab>Open CW</span></div><div class=swRow><label class=sw id=swMstr><input id=swMstrChck type=checkbox onchange=swMstrUpd() checked><span class=sldSw></span></label><span class=swLab id=swMstrLab>Master Node</span></div><div class=swRow><label class=sw id=swSwap><input id=swSwapChck type=checkbox onchange=swSwapUpd() checked><span class=sldSw></span></label><span class=swLab id=swSwapLab>Swapped Lim SW</span></div></div></div><div class=configPanel><label class=cfgInpLab for=devIP>IP Address:<input id=devIP class=cfgInp value=...Loading... maxlength=40 disabled></label><br><label class=cfgInpLab for=devName>Name:<input id=devName class=cfgInp value=...Loading... maxlength=40 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=groupName>Group:<input id=groupName class=cfgInp value=...Loading... maxlength=40 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=devType>Type:<input id=devType class=cfgInp value=...Loading... maxlength=20 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=devNote>Note:<input id=devNote class=cfgInp value=...Loading... maxlength=55 onkeypress=\"return blockSpecialChar(event)\"></label><br><label class=cfgInpLab for=timeOut>Time-Out:<input id=timeOut class=cfgInpNum value=00 maxlength=5 onkeypress=\"return numberCharOnly(event)\"title=\"Enter a time (in seconds) to wait for the actuator to respond before stopped and displaying an error message (assuming the actuator got stuck).\"></label></div><div class=fishyFtrSw><div class=flex-grid><input id=updCfgBtn class=cfgbuttonY value=\"UPDATE SETTINGS\"title=\"This will save new settings in the device. New settings should be displayed on next refresh.  If trying to adjust mulitple settings it is recommended that you temporarily turn off Auto-refresh.\"onclick='sendCmd(\"config\")'type=button> <input id=updCfgBtn class=cfgbuttonY value=\"REBOOT DEVICE\"title=\"This will reboot the device.\"onclick='sendCmd(\"reboot\")'type=button></div><div class=flex-grid><input id=rstWifiBtn class=cfgbuttonR value=\"RESET WIFI\"title=\"WARNING:Reset Wifi will attempt to delete your network SSID and passwordand put the device into wifi-server mode to learn new wifi SSID and password. To teach a reset device a new wifi network go to the device IP address using a mobile phone or computer.\"onclick='sendCmd(\"rstWifi\")'type=button></div></div></div><script>function invertColor(e){if(0===e.indexOf(\"#\")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error(\"Invalid HEX color.\");var n=(255-parseInt(e.slice(0,2),16)).toString(16),t=(255-parseInt(e.slice(2,4),16)).toString(16),o=(255-parseInt(e.slice(4,6),16)).toString(16);return\"#\"+padZero(n)+padZero(t)+padZero(o)}function padZero(e,n){return n=n||2,(new Array(n).join(\"0\")+e).slice(-n)}function showDetails(){document.getElementById(\"infoDiv\").innerHTML=infoText,document.getElementById(\"infoPanel\").style.display=\"block\"}function getMsg(e){var n=e.indexOf(\"MSG:\")+4,t=e.indexOf(\"~*~*\");return e.substring(n,t)}function getNodeJSONtext(e){var n=e.indexOf(\"~*~*DAT:\")+8;return e.substring(n,e.length)}function start(){\"localhost\"==document.domain?websock=new WebSocket(\"ws://10.203.1.197:81/\"):websock=new WebSocket(\"ws://\"+window.location.hostname+\":81/\"),websock.onopen=function(e){console.log(\"websock open\"),websock.send(\"Connect \"+new Date)},websock.onclose=function(e){console.log(\"websock close\")},websock.onerror=function(e){console.log(e)},websock.onmessage=function(e){var n=e.data;if(n.indexOf(\"~*~*\")<0)0==n.indexOf('{\"fishyDevices\"')?processJSON(n):console.log(n);else{var t=getMsg(n);console.log(t);var o=getNodeJSONtext(n);console.log(o),processJSON(o)}}}function setMainTxt(e){var n=document.getElementById(\"mainTxt\");n.innerHTML=e,n.style.backgroundColor=newcolor,n.style.color=invertColor(newcolor)}function returnColor(){document.body.style.backgroundColor=\"var(--bg-col)\"}function sendCmd(e){if(\"ON\"==e)cmd=\"on\",document.body.style.backgroundColor=\"var(--bg-col-ack)\";else if(\"OFF\"==e)cmd=\"off\",document.body.style.backgroundColor=\"var(--bg-col-ack)\";else if(\"config\"==e){var n=\"false\",t=\"false\",o=\"false\";document.getElementById(\"swMstrChck\").checked&&(n=\"true\"),document.getElementById(\"swChck\").checked&&(t=\"true\"),document.getElementById(\"swSwapChck\").checked&&(o=\"true\"),cmd=\"config\",cmd+=\";openIsCCW=\"+t,cmd+=\";isMaster=\"+n,cmd+=\";devName=\"+document.getElementById(\"devName\").value,cmd+=\";groupName=\"+document.getElementById(\"groupName\").value,cmd+=\";devType=\"+document.getElementById(\"devType\").value,cmd+=\";note=\"+document.getElementById(\"devNote\").value,cmd+=\";swapLimSW=\"+o,cmd+=\";timeOut=\"+document.getElementById(\"timeOut\").value}else websock.send(newcolor)}function processJSON(e){doStuffWithJSON(JSON.parse(e).fishyDevices)}function blockSpecialChar(e){var n=e.keyCode;return 64<n&&n<91||96<n&&n<123||8==n||16==n||95==n||32==n||43<n&&n<47||48<=n&&n<=57}function numberCharOnly(e){var n=e.keyCode;return 8==n||16==n||48<=n&&n<=57}function swMstrUpd(){var e=document.getElementById(\"swMstrLab\");1==document.getElementById(\"swMstrChck\").checked?e.innerHTML=\"Master Node\":e.innerHTML=\"Slave Node\"}var infoText=\"...Loading...\";function doStuffWithJSON(e){var n=\"\",t=!1,o=\"\";d=e[0],returnColor(),\"true\"==d.deviceTimedOut&&(t=!0,o+=\"ERROR - DEVICE TIMED OUT\\n\"),\"true\"==d.isMaster?(n=\" (MASTER)\",document.getElementById(\"swMstrChck\").checked=!0):(n=\"\",document.getElementById(\"swMstrChck\").checked=!1),swMstrUpd(),infoText=\"DEVICE TYPE: \"+d.devType+\"<br>\\nNAME: \"+d.deviceName+\"<br>\\nIP ADDRESS: \"+d.ip+n+\"<hr>\\nSOFTWARE VERSION: \"+d.swVer+\"<br>\\nINIT STR: \"+d.initStamp+\"\\n\\n\\n<hr><br>\\n\"+o,document.getElementById(\"info-icon\").className=t?\"info-icon-blink\":\"info-icon\",setMainTxt(newcolor),document.getElementById(\"devIP\").value=d.ip+n,document.getElementById(\"devNote\").value=d.note,document.getElementById(\"timeOut\").value=d.timeOut,document.getElementById(\"devName\").value=d.deviceName,document.getElementById(\"groupName\").value=d.group,document.getElementById(\"devType\").value=d.devType}</script><script>!function(U,Z,t){function d(t){return void 0!==t}function tt(t){return\"object\"==typeof t}function r(t){return Object.keys(t).length}function et(t,e,n){return t<e?e:n<t?n:t}function e(t,e){return parseInt(t,e||10)}function p(t){return Math.round(t)}function nt(t){var e,n,r,i,o,c,s,u,a=+t[0],f=+t[1],l=+t[2];switch(c=l*(1-f),s=(s=l*(1-(o=6*a-(i=Math.floor(6*a)))*f))||0,u=(u=l*(1-(1-o)*f))||0,(i=i||0)%6){case 0:e=l,n=u,r=c;break;case 1:e=s,n=l,r=c;break;case 2:e=c,n=l,r=u;break;case 3:e=c,n=s,r=l;break;case 4:e=u,n=c,r=l;break;case 5:e=l,n=c,r=s}return[p(255*e),p(255*n),p(255*r)]}function rt(t){return n(nt(t))}function i(t){var e,n=+t[0],r=+t[1],i=+t[2],o=Math.max(n,r,i),c=Math.min(n,r,i),s=o-c,u=0===o?0:s/o,a=o/255;switch(o){case c:e=0;break;case n:e=r-i+s*(r<i?6:0),e/=6*s;break;case r:e=i-n+2*s,e/=6*s;break;case i:e=n-r+4*s,e/=6*s}return[e,u,a]}function n(t){var e=+t[2]|+t[1]<<8|+t[0]<<16;return(e=\"000000\"+e.toString(16)).slice(-6)}function o(t){return i(c(t))}function c(t){return 3===t.length&&(t=t.replace(/./g,\"$&$&\")),[e(t[0]+t[1],16),e(t[2]+t[3],16),e(t[4]+t[5],16)]}function s(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function u(t){return[p(360*+t[0]),p(100*+t[1]),p(100*+t[2])]}function a(t){if(tt(t))return t;var e=/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i.exec(t),n=/\\s*hsv\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)\\s*$/i.exec(t);return\"#\"===t[0]&&t.match(/^#([\\da-f]{3}|[\\da-f]{6})$/i)?o(t.slice(1)):n?s([+n[1],+n[2],+n[3]]):e?i([+e[1],+e[2],+e[3]]):[0,1,1]}var f,it=\"__instance__\",ot=\"firstChild\",ct=setTimeout;(f=U.CP=function(g,y,m){function w(t,e,n){for(var r=0,i=(t=t.split(/\\s+/)).length;r<i;++r)e.addEventListener(t[r],n,!1)}function k(t,e,n){for(var r=0,i=(t=t.split(/\\s+/)).length;r<i;++r)e.removeEventListener(t[r],n)}function x(t,e){var n=\"touches\",r=\"clientX\",i=\"clientY\",o=e[n]?e[n][0][r]:e[r],c=e[n]?e[n][0][i]:e[i],s=l(t);return{x:o-s.l,y:c-s.t}}function l(t){var e,n,r;return n=t===U?(e=U.pageXOffset||p.scrollLeft,U.pageYOffset||p.scrollTop):(e=(r=t.getBoundingClientRect()).left,r.top),{l:e,t:n}}function H(t,e){for(;(t=t.parentElement)&&t!==e;);return t}function b(t){t&&t.preventDefault()}function E(t){return t===U?{w:U.innerWidth,h:U.innerHeight}:{w:t.offsetWidth,h:t.offsetHeight}}function S(t){return n||!!d(t)&&t}function C(t){n=t}function X(t,e,n){if(!d(i[t]))return M;if(d(n))d(i[t][n])&&i[t][n].apply(M,e);else for(var r in i[t])i[t][r].apply(M,e);return M}function _(t,e){t&&\"h\"!==t||X(\"change:h\",e),t&&\"sv\"!==t||X(\"change:sv\",e),X(\"change\",e)}function B(){return L.parentNode}function R(t,e){function n(t){var e=t.target;e===g||H(e,g)===g?(R(),X(\"enter\")):M.exit()}function s(t){var e=(nt(q),nt([q[0],1,1]));N.style.backgroundColor=\"rgb(\"+e.join(\",\")+\")\",C(q),b(t)}function r(t){var e,n,r,i,o,c;I&&(c=et(x(A,o=t).y,0,f),q[0]=(f-c)/f,W.style.top=c-h/2+\"px\",s(o),Q=[rt(q)],z||(X(\"drag:h\",Q),X(\"drag\",Q),_(\"h\",Q))),F&&(n=x(N,e=t),r=et(n.x,0,l),i=et(n.y,0,p),q[1]=1-(l-r)/l,q[2]=(p-i)/p,Y.style.right=l-r-v/2+\"px\",Y.style.top=i-d/2+\"px\",s(e),Q=[rt(q)],D||(X(\"drag:sv\",Q),X(\"drag\",Q),_(\"sv\",Q))),D=z=0}function i(t){var e=t.target,n=I?\"h\":\"sv\",r=[rt(q),M],i=e===g||H(e,g)===g,o=e===L||H(e,L)===L;i||o?o&&(X(\"stop:\"+n,r),X(\"stop\",r),_(n,r)):B()&&!1!==y&&(M.exit(),_(0,r)),F=I=0}function o(t){I=z=1,r(t),b(t),X(\"start:h\",Q),X(\"start\",Q),_(\"h\",Q)}function c(t){F=D=1,r(t),b(t),X(\"start:sv\",Q),X(\"start\",Q),_(\"sv\",Q)}t||((m||e||G).appendChild(L),M.visible=!0),J=E(L).w,K=E(L).h;var u=E(N),a=E(Y),f=E(A).h,l=u.w,p=u.h,h=E(W).h,v=a.w,d=a.h;t?(L.style.left=L.style.top=\"-9999px\",!1!==y&&w(y,g,n),M.create=function(){return R(1),X(\"create\"),M},M.destroy=function(){return!1!==y&&k(y,g,n),M.exit(),C(!1),X(\"destroy\"),M}):V(),P=function(){q=S(q),s(),W.style.top=f-h/2-f*+q[0]+\"px\",Y.style.right=l-v/2-l*+q[1]+\"px\",Y.style.top=p-d/2-p*+q[2]+\"px\"},M.exit=function(){return B()&&(B().removeChild(L),M.visible=!1),k($,A,o),k($,N,c),k(T,Z,r),k(j,Z,i),k(O,U,V),X(\"exit\"),M},P(),t||(w($,A,o),w($,N,c),w(T,Z,r),w(j,Z,i),w(O,U,V))}function V(){return M.fit()}var G=Z.body,p=Z.documentElement,M=this,e=U.CP,n=!1,i={},L=Z.createElement(\"div\"),$=\"touchstart mousedown\",T=\"touchmove mousemove\",j=\"touchend mouseup\",O=\"orientationchange resize\";if(!(M instanceof e))return new e(g,y);e[it][g.id||g.name||r(e[it])]=M,d(y)&&!0!==y||(y=$),C(e.parse(g.getAttribute(\"data-color\")||g.value||[0,1,1])),L.className=\"color-picker\",L.innerHTML='<div class=\"color-picker-container\"><span class=\"color-picker-h\"><i></i></span><span class=\"color-picker-sv\"><i></i></span></div>';var P,t=L[ot].children,q=S([0,1,1]),A=t[0],N=t[1],W=A[ot],Y=N[ot],z=0,D=0,I=0,F=0,h=0,v=0,J=0,K=0,Q=[rt(q)];return R(1),ct(function(){var t=[rt(q)];X(\"create\",t),_(0,t)},0),M.fit=function(t){var e=E(U),n=E(p),r=e.w-n.w,i=e.h-p.clientHeight,o=l(U),c=l(g);if(h=c.l+o.l,v=c.t+o.t+E(g).h,tt(t))d(t[0])&&(h=t[0]),d(t[1])&&(v=t[1]);else{var s=o.l,u=o.t,a=o.l+e.w-J-r,f=o.t+e.h-K-i;h=et(h,s,a)>>0,v=et(v,u,f)>>0}return L.style.left=h+\"px\",L.style.top=v+\"px\",X(\"fit\"),M},M.set=function(t){return d(t)?(\"string\"==typeof t&&(t=e.parse(t)),C(t),P(),M):S()},M.get=function(t){return S(t)},M.source=g,M.self=L,M.visible=!1,M.on=function(t,e,n){return d(t)?d(e)?(d(i[t])||(i[t]={}),d(n)||(n=r(i[t])),i[t][n]=e,M):i[t]:i},M.off=function(t,e){return d(t)?d(e)?delete i[t][e]:i[t]={}:i={},M},M.fire=X,M.hooks=i,M.enter=function(t){return R(0,t),X(\"enter\"),M},M}).version=\"1.4.1\",f[it]={},f.each=function(n,t){return ct(function(){var t,e=f[it];for(t in e)n.call(e[t],t,e)},0===t?0:t||1),f},f.parse=a,f._HSV2RGB=nt,f._HSV2HEX=rt,f._RGB2HSV=i,f._HEX2HSV=o,f._HEX2RGB=function(t){return[+(e=c(t))[0]/255,+e[1]/255,+e[2]/255];var e},f.HSV2RGB=function(t){return nt(s(t))},f.HSV2HEX=function(t){return rt(s(t))},f.RGB2HSV=function(t){return u(i(t))},f.RGB2HEX=n,f.HEX2HSV=function(t){return u(o(t))},f.HEX2RGB=c}(window,document);var p=document.querySelectorAll(\"p\")[0],picker=new CP(document.querySelector(\"input\"),!1,p);picker.on(\"change\",function(t){newcolor=\"#\"+t,setMainTxt(newcolor),sendCmd(newcolor)}),picker.fit=function(){this.self.style.left=this.self.style.top=\"\"},picker.self.classList.add(\"static\"),picker.enter();var newcolor=\"#\";window.onload=start()</script><div class=infoPanel id=infoPanel><div class=infoDiv id=infoDiv></div><input class=infoOKbtn value=OK onclick=closeCtrlModal() type=button></div><script>var ctrlModal=document.getElementById(\"infoPanel\");function closeCtrlModal(){ctrlModal.style.display=\"none\"}</script>";
//=============================================================================================================================
